<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" conFIVEt="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>
var map;


var MY_MAPTYPE_ID = 'custom_style';

function initialize() {



  var featureOpts =    [
  {
    featureType: 'water',
    elementType: 'all',
    stylers: [
      { hue: '#0055bb' },
      { saturation: 100 },
      { lightness: -30 },
      { visibility: 'on' }
    ]
  },{
    featureType: 'landscape',
    elementType: 'geometry',
    stylers: [
      { hue: '#ffffff' },
      { saturation: -100 },
      { lightness: 100 },
      { visibility: 'simplified' }
    ]
  },{
    featureType: 'road.highway',
    elementType: 'all',
    stylers: [
      { hue: '#bbbbbb' },
      { saturation: -100 },
      { lightness: 26 },
      { visibility: 'on' }
    ]
  },{
    featureType: 'road.local',
    elementType: 'all',
    stylers: [
      { hue: '#999999' },
      { saturation: -100 },
      { lightness: -40 },
      { visibility: 'on' }
    ]
  },{
    featureType: 'poi',
    elementType: 'all',
    stylers: [
      { hue: '#ffffff' },
      { saturation: -100 },
      { lightness: 100 },
      { visibility: 'off' }
    ]
  },{
    featureType: 'administrative.locality',
    elementType: 'all',
    stylers: [
      { hue: '#000000' },
      { saturation: 0 },
      { lightness: 0 },
      { visibility: 'simplified' }
    ]
  },{
    featureType: 'road.local',
    elementType: 'all',
    stylers: [
      { hue: '#000000' },
      { saturation: -100 },
      { lightness: -100 },
      { visibility: 'off' }
    ]
  },{
    featureType: 'road.highway',
    elementType: 'labels',
    stylers: [
      { hue: '#000000' },
      { saturation: -100 },
      { lightness: -100 },
      { visibility: 'off' }
    ]
  }
];

  var mapOptions = {
    zoom: 11,
    center: new google.maps.LatLng({{latitude}}, {{longitude}}),
    mapTypeControlOptions: {
      mapTypeIds: [google.maps.MapTypeId.ROADMAP, MY_MAPTYPE_ID]
    },
    mapTypeId: MY_MAPTYPE_ID
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var styledMapOptions = {
    name: 'Custom Style'
  };

  var customMapType = new google.maps.StyledMapType(featureOpts, styledMapOptions);

  map.mapTypes.set(MY_MAPTYPE_ID, customMapType);

  // var mapOptions = {
  //   zoom: 10,
  //   center: new google.maps.LatLng({{latitude}}, {{longitude}})
  // };
 var FIVE_MINS_WALKING_Y=(51.602626-51.595441+0.0000715)/2
 // var FIVE_MINS_WALKING_Y=0.00370625

 var FIVE_MINS_WALKING_X=(-0.076213+0.087382+0.00012)/2
 // var FIVE_MINS_WALKING_X=0.005712
 
  // map = new google.maps.Map(document.getElementById('map-canvas'),
  //     mapOptions);
    {% if points %}

    {% for point in points %}
    colors= ["#007100", "#017203", "#027406", "#037609", "#04770C", "#05790F", "#067B12", "#077C15", "#087E18", "#09801B", "#0A811E", "#0C8321", "#0D8524", "#0E8627", "#0F882A", "#108A2D", "#118C30", "#128D33", "#138F36", "#149139", "#15923C", "#17943F", "#189642", "#199745", "#1A9948", "#1B9B4B", "#1C9C4E", "#1D9E51", "#1EA055", "#1FA258", "#20A35B", "#21A55E", "#23A761", "#24A864", "#25AA67", "#26AC6A", "#27AD6D", "#28AF70", "#29B173", "#2AB276", "#2BB479", "#2CB67C", "#2EB87F", "#2FB982", "#30BB85", "#31BD88", "#32BE8B", "#33C08E", "#34C291", "#35C394", "#36C597", "#37C79A", "#38C89D", "#3ACAA0", "#3BCCA3", "#3CCDA6", "#3DCFAA", "#3ED1AD", "#3FD3B0", "#40D4B3", "#41D6B6", "#42D8B9", "#43D9BC", "#45DBBF", "#46DDC2", "#47DEC5", "#48E0C8", "#49E2CB", "#4AE3CE", "#4BE5D1", "#4CE7D4", "#4DE9D7", "#4EEADA", "#4FECDD", "#51EEE0", "#52EFE3", "#53F1E6", "#54F3E9", "#55F4EC", "#56F6EF", "#57F8F2", "#58F9F5", "#59FBF8", "#5AFDFB", "#5CFFFF", "#5BFCFF", "#5BFAFF", "#5AF7FF", "#5AF5FF", "#59F2FF", "#59F0FF", "#58EDFF", "#58EBFF", "#57E8FF", "#57E6FF", "#56E3FF", "#56E1FF", "#55DFFF", "#55DCFF", "#54DAFF", "#54D7FF", "#53D5FF", "#53D2FF", "#52D0FF", "#52CDFF", "#51CBFF", "#51C8FF", "#50C6FF", "#50C4FF", "#4FC1FF", "#4FBFFF", "#4EBCFF", "#4EBAFF", "#4DB7FF", "#4DB5FF", "#4CB2FF", "#4CB0FF", "#4BADFF", "#4BABFF", "#4AA8FF", "#4AA6FF", "#49A4FF", "#49A1FF", "#489FFF", "#489CFF", "#479AFF", "#4797FF", "#4695FF", "#4692FF", "#4590FF", "#458DFF", "#448BFF", "#4489FF", "#4386FF", "#4384FF", "#4281FF", "#427FFF", "#417CFF", "#417AFF", "#4077FF", "#4075FF", "#3F72FF", "#3F70FF", "#3E6DFF", "#3E6BFF", "#3D69FF", "#3D66FF", "#3C64FF", "#3C61FF", "#3B5FFF", "#3B5CFF", "#3A5AFF", "#3A57FF", "#3955FF", "#3952FF", "#3850FF", "#384EFF", "#374BFF", "#3749FF", "#3646FF", "#3644FF", "#3541FF", "#353FFF", "#343CFF", "#343AFF", "#3337FF", "#3335FF", "#3333FF", "#3533FF", "#3733FF", "#3A33FF", "#3C33FF", "#3F34FF", "#4134FF", "#4434FF", "#4634FF", "#4934FF", "#4B35FF", "#4E35FF", "#5035FF", "#5235FF", "#5535FF", "#5736FF", "#5A36FF", "#5C36FF", "#5F36FF", "#6136FF", "#6437FF", "#6637FF", "#6937FF", "#6B37FF", "#6D37FF", "#7038FF", "#7238FF", "#7538FF", "#7738FF", "#7A38FF", "#7C39FF", "#7F39FF", "#8139FF", "#8439FF", "#8639FF", "#893AFF", "#8B3AFF", "#8D3AFF", "#903AFF", "#923AFF", "#953BFF", "#973BFF", "#9A3BFF", "#9C3BFF", "#9F3CFF", "#A13CFF", "#A43CFF", "#A63CFF", "#A83CFF", "#AB3DFF", "#AD3DFF", "#B03DFF", "#B23DFF", "#B53DFF", "#B73EFF", "#BA3EFF", "#BC3EFF", "#BF3EFF", "#C13EFF", "#C43FFF", "#C63FFF", "#C83FFF", "#CB3FFF", "#CD3FFF", "#D040FF", "#D240FF", "#D540FF", "#D740FF", "#DA40FF", "#DC41FF", "#DF41FF", "#E141FF", "#E341FF", "#E641FF", "#E842FF", "#EB42FF", "#ED42FF", "#F042FF", "#F242FF", "#F543FF", "#F743FF", "#FA43FF", "#FC43FF", "#FF44FF", "#FF46FB", "#FF48F8", "#FF4AF5", "#FF4DF2", "#FF4FEF", "#FF51EC", "#FF53E9", "#FF56E6", "#FF58E3", "#FF5AE0", "#FF5CDD", "#FF5FDA", "#FF61D7", "#FF63D3", "#FF65D0", "#FF68CD", "#FF6ACA", "#FF6CC7", "#FF6EC4", "#FF71C1", "#FF73BE", "#FF75BB", "#FF77B8", "#FF7AB5", "#FF7CB2", "#FF7EAF", "#FF80AC", "#FF83A8", "#FF85A5", "#FF87A2", "#FF899F", "#FF8C9C", "#FF8E99", "#FF9096", "#FF9293", "#FF9590", "#FF978D", "#FF998A", "#FF9B87", "#FF9E84", "#FFA081", "#FFA27D", "#FFA47A", "#FFA777", "#FFA974", "#FFAB71", "#FFAD6E", "#FFB06B", "#FFB268", "#FFB465", "#FFB662", "#FFB95F", "#FFBB5C", "#FFBD59", "#FFBF56", "#FFC252", "#FFC44F", "#FFC64C", "#FFC849", "#FFCB46", "#FFCD43", "#FFCF40", "#FFD13D", "#FFD43A", "#FFD637", "#FFD834", "#FFDA31", "#FFDD2E", "#FFDF2B", "#FFE127", "#FFE324", "#FFE621", "#FFE81E", "#FFEA1B", "#FFEC18", "#FFEF15", "#FFF112", "#FFF30F", "#FFF50C", "#FFF809", "#FFFA06", "#FFFC03", "#FFFF00", "#FFFB00", "#FFF800", "#FFF500", "#FFF200", "#FFEF00", "#FFEC00", "#FFE900", "#FFE600", "#FFE300", "#FFE000", "#FFDD00", "#FFDA00", "#FFD700", "#FFD300", "#FFD000", "#FFCD00", "#FFCA00", "#FFC700", "#FFC400", "#FFC100", "#FFBE00", "#FFBB00", "#FFB800", "#FFB500", "#FFB200", "#FFAF00", "#FFAC00", "#FFA800", "#FFA500", "#FFA200", "#FF9F00", "#FF9C00", "#FF9900", "#FF9600", "#FF9300", "#FF9000", "#FF8D00", "#FF8A00", "#FF8700", "#FF8400", "#FF8100", "#FF7D00", "#FF7A00", "#FF7700", "#FF7400", "#FF7100", "#FF6E00", "#FF6B00", "#FF6800", "#FF6500", "#FF6200", "#FF5F00", "#FF5C00", "#FF5900", "#FF5600", "#FF5200", "#FF4F00", "#FF4C00", "#FF4900", "#FF4600", "#FF4300", "#FF4000", "#FF3D00", "#FF3A00", "#FF3700", "#FF3400", "#FF3100", "#FF2E00", "#FF2B00", "#FF2700", "#FF2400", "#FF2100", "#FF1E00", "#FF1B00", "#FF1800", "#FF1500", "#FF1200", "#FF0F00", "#FF0C00", "#FF0900", "#FF0600", "#FF0300", "#FF0000", "#FB0000", "#F80000", "#F50000", "#F20000", "#EF0000", "#EC0000", "#E90000", "#E60000", "#E30000", "#E00000", "#DD0000", "#DA0000", "#D70000", "#D30000", "#D00000", "#CD0000", "#CA0000", "#C70000", "#C40000", "#C10000", "#BE0000", "#BB0000", "#B80000", "#B50000", "#B20000", "#AF0000", "#AC0000", "#A80000", "#A50000", "#A20000", "#9F0000", "#9C0000", "#990000", "#960000", "#930000", "#900000", "#8D0000", "#8A0000", "#870000", "#840000", "#810000", "#7D0000", "#7A0000", "#770000", "#740000", "#710000", "#6E0000", "#6B0000", "#680000", "#650000", "#620000", "#5F0000", "#5C0000", "#590000", "#560000", "#520000", "#4F0000", "#4C0000", "#490000", "#460000", "#430000", "#400000", "#3D0000", "#3A0000", "#370000", "#340000", "#310000", "#2E0000", "#2B0000", "#270000", "#240000", "#210000", "#1E0000", "#1B0000", "#180000", "#150000", "#120000", "#0F0000", "#0C0000", "#090000", "#060000", "#030000", "#000000"];
    // colors=  ["ff0000"];
    point_color=colors[Math.floor(colors.length*({{point.seconds}}/(3*60*60)))];
    cityRectangle = new google.maps.Rectangle({
      strokeColor: '#000000',
      strokeOpacity: 0.9,
      strokeWeight: 0.0,
      fillColor: point_color,
      fillOpacity: 1.0,
      map: map,
       bounds: new google.maps.LatLngBounds(
      new google.maps.LatLng({{point.locationInArea.latitude}}-FIVE_MINS_WALKING_Y/2.0, {{point.locationInArea.longitude}}-FIVE_MINS_WALKING_X/2.0),
      new google.maps.LatLng({{point.locationInArea.latitude}}+FIVE_MINS_WALKING_Y/2.0, {{point.locationInArea.longitude}}+FIVE_MINS_WALKING_X/2.0))

    });
        
    {% endfor %}
   
    {% endif %}

}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>